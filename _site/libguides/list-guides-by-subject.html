<!DOCTYPE html>
<html lang="en">

<head>
    <title>List Guides by Subject</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://use.fontawesome.com/b5b4f2ce2b.js"></script>
    <link rel="stylesheet" href="/css/customfoundation.min.css">
    <link href="/css/main.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/syntax.css">
  <link href="https://fonts.googleapis.com/css?family=Dosis:300|Martel:300" rel="stylesheet"> 

    

<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//ashleykunsa.com/piwik/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '2']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Piwik Code -->


</head>

<body>
    <header>

    <div class="expanded row" id="header-row">
        <div class="medium-12 columns" >
        
            <h1 id="site-title"><span>APIs for Librarians</span></h1>
            <div id="site-title-undertitle">Helping you to help yourself in helping your patrons. Or something.</div>
            <div id="code-icon"><i class="fa fa-code" aria-hidden="true"></i></div>


        </div>
        
       
    </div>




</header>


 

    <div class="row">
        <div class="medium-12 columns"> <h2 class="post-side-title">List Guides by Subject</h2> <br> 
        </div>
    </div>
    <div class="row">
        <div class="small-12 columns"><h2 id="description">Description</h2>

<p>The LibGuides API allows you to limit the API’s response to return only guides of a certain subject. Subjects are defined inside of LG, as assigned by admins or guide authors to individual guides.</p>

<p>A nice implementation of this idea exists at <a href="http://infoguides.rit.edu/">Rochester Institute of Technology’s LG homepage</a>. Their page is what inspired my trying to use the API in this way.</p>

<h3 id="screenshot">Screenshot</h3>

<p><img src="/assets/List Guides by Subject-screenshot.jpg" alt="List Guides by Subject screenshot" class="screenshot" /></p>

<h3 id="more-details">More details</h3>

<p>The API call, which is written in jQuery, will send your authorization key along with some pieces of information that will tell LG to only return JSON data about guides from a single subject or subjects.</p>

<p>Once that data is returned we pull out the individual title of a guide and its URL and place those pieces into an LI element. The jQuery will then enumerate through each JSON entry doing the same thing again and again until complete. You might have a list of 3 items or 300, it doesn’t matter.</p>

<p>You link up the jQuery and your actual HTML using a specific ID name in your HTML, assigned to a UL. If you wanted a variety of different such lists you would need to use that many different pieces of this code, with your subject identifiers in the JSON call and the HTML/JS linkup changed.</p>

<h2 id="the-code">The Code</h2>

<h4 id="htmlcss">HTML/CSS</h4>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">"business-guides"</span><span class="nt">&gt;&lt;/ul&gt;</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h4 id="javascriptjquery">JavaScript/jQuery</h4>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8</pre></td><td class="code"><pre><span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s1">'https://lgapi-us.libapps.com/1.1/guides?site_id=foo1&amp;key=foo2&amp;status=1&amp;subject_ids=38607'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">businessGuides</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">guidesData</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">listItem</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'&lt;li&gt;&lt;/li&gt;'</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'&lt;a href=/"'</span> <span class="o">+</span> <span class="nx">guidesData</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">'/"&gt;'</span> <span class="o">+</span> <span class="nx">guidesData</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">'&lt;/a&gt;'</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">listItem</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">listItem</span><span class="p">;</span>
  <span class="p">});</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">'#business-guides'</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">businessGuides</span><span class="p">);</span>
<span class="p">});</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h4 id="comments-on-the-code">Comments on the code:</h4>

<ul>
  <li><code class="highlighter-rouge">
foo1
</code>and <code class="highlighter-rouge">
foo2
</code>are placeholders. Fill these in with the information provided by Springshare.</li>
  <li><code class="highlighter-rouge">
status=1
</code> refers to published guides.</li>
  <li><code class="highlighter-rouge">
subject_ids=38607
</code> refers to the specific code for the subject ‘business’ in our system. You’ll need to replace that number.</li>
  <li>The <code class="highlighter-rouge">
#business-guides
</code> is what links your JS to your HTML. The ID here needs to match the ID of the UL in your code.</li>
</ul>
</div>
    </div>
    







    <footer>


    <div class="row expanded">
This site was created and is maintained by <a href="http://www.bradcoffield.com">Brad Coffield</a> <a href="https://github.com/BradCoffield" class="fa fa-github"></a><a href="https://twitter.com/BradCoffield" class="fa fa-twitter"></a> and is given to the public domain by the <a href="https://unlicense.org/">UNLICENSE</a> <br> <em>If I can help you use some of the code featured here, let me know!</em>

       
       
       
    


    </div>




<!--    <div class="row expanded">
This site is licensed using the <a href="https://unlicense.org/">UNLICENSE</a>. Enjoy! <br>
        Created and maintained by <a href="http://www.bradcoffield.com">Brad Coffield</a> 
       
        <a href="https://github.com/BradCoffield" class="fa fa-github"></a>
        <a href="https://twitter.com/BradCoffield" class="fa fa-twitter"></a>


    </div>-->


</footer>

</body>

</html>